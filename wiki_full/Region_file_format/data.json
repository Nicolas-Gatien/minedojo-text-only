{"metadata": {"url": "https://minecraft.fandom.com/wiki/Region_file_format", "title": "Region_file_format", "time": "16/04/2022 22:46:21"}, "tables": [{"bbox": [202.046875, 1950.78125, 725, 87], "headers": {"text": ["byte", "0x00 - 0x0FFF", "0x1000 - 0x1FFF", "0x2000...", "description"], "bboxes": [[202.546875, 1951.28125, 93, 31], [295.734375, 1951.28125, 225, 31], [521.125, 1951.28125, 242, 31], [763.515625, 1951.28125, 164, 31], [202.546875, 1982.375, 93, 55]]}, "cells": {"text": ["locations (1024 entries; 4 bytes each)", "timestamps (1024 entries; 4 bytes each)", "chunks and unused space"], "bboxes": [[295.734375, 1982.375, 225, 55], [521.125, 1982.375, 242, 55], [763.515625, 1982.375, 164, 55]]}}, {"bbox": [202.046875, 2235.46875, 249, 63], "headers": {"text": ["byte", "0", "1", "2", "3", "description"], "bboxes": [[202.546875, 2235.96875, 93, 31], [295.734375, 2235.96875, 22, 31], [317.921875, 2235.96875, 19, 31], [337.109375, 2235.96875, 21, 31], [358.296875, 2235.96875, 93, 31], [202.546875, 2267.0625, 93, 31]]}, "cells": {"text": ["offset", "sector count"], "bboxes": [[295.734375, 2267.0625, 62, 31], [358.296875, 2267.0625, 93, 31]]}}, {"bbox": [202.046875, 2477.15625, 177, 63], "headers": {"text": ["byte", "0", "1", "2", "3", "description"], "bboxes": [[202.546875, 2477.65625, 93, 31], [295.734375, 2477.65625, 22, 31], [317.921875, 2477.65625, 19, 31], [337.109375, 2477.65625, 21, 31], [358.296875, 2477.65625, 21, 31], [202.546875, 2508.75, 93, 31]]}, "cells": {"text": ["timestamp"], "bboxes": [[295.734375, 2508.75, 83, 31]]}}, {"bbox": [202.046875, 2821.84375, 562, 63], "headers": {"text": ["byte", "0", "1", "2", "3", "4", "5...", "description"], "bboxes": [[202.546875, 2822.34375, 93, 31], [295.734375, 2822.34375, 30, 31], [326.25, 2822.34375, 27, 31], [352.625, 2822.34375, 29, 31], [381.765625, 2822.34375, 29, 31], [410.921875, 2822.34375, 126, 31], [537.109375, 2822.34375, 227, 31], [202.546875, 2853.4375, 93, 31]]}, "cells": {"text": ["length (in bytes)", "compression type", "compressed data (length-1 bytes)"], "bboxes": [[295.734375, 2853.4375, 115, 31], [410.921875, 2853.4375, 126, 31], [537.109375, 2853.4375, 227, 31]]}}, {"bbox": [202.046875, 2961.53125, 438, 125], "headers": {"text": ["value", "method"], "bboxes": [[202.546875, 2962.03125, 148, 31], [350.734375, 2962.03125, 289, 31]]}, "cells": {"text": ["1", "GZip (RFC1952) (unused in practice)", "2", "Zlib (RFC1950)", "3since a version before 1.15.1", "[keep it uncompressed](unused in practice)"], "bboxes": [[202.546875, 2993.125, 148, 31], [350.734375, 2993.125, 289, 31], [202.546875, 3024.21875, 148, 31], [350.734375, 3024.21875, 289, 31], [202.546875, 3055.3125, 148, 31], [350.734375, 3055.3125, 289, 31]]}}, {"bbox": [202.046875, 4329.40625, 725, 376], "headers": {"text": ["Name", "Description", "Screenshot"], "bboxes": [[202.546875, 4329.90625, 93, 31], [296.03125, 4329.90625, 538, 31], [834.234375, 4329.90625, 93, 31]]}, "cells": {"text": ["McRegion", "This mod optimizes how chunks are stored on the disk, meaning pauses to load or save a chunk as the player moves around a world become much shorter and less noticeable.", "", "Minecraft Region Fixer", "This tool is a python script that tries to fix problems in region files. It can find some typical errors (corrupted chunks, wrong located chunks, too many entities problems), and can fix these errors in various ways (deleting the chunks, replacing them with a backup copy, or relocating the chunk). This is a command-line application.", "", "MCA2NBT", "A simple Unix command-line utility to convert a Minecraft .mca region file (in anvil format) to a directory with the same basename containing an uncompressed NBT file for each of its chunks.", "", "Region Scanner", "A Java Edition 1.7.10 (only) Java command line utility to analyze and mass edit region files", ""], "bboxes": [[202.546875, 4361, 93, 80], [296.03125, 4361, 538, 80], [834.234375, 4361, 93, 80], [202.546875, 4441.09375, 93, 129], [296.03125, 4441.09375, 538, 129], [834.234375, 4441.09375, 93, 129], [202.546875, 4570.1875, 93, 80], [296.03125, 4570.1875, 538, 80], [834.234375, 4570.1875, 93, 80], [202.546875, 4650.28125, 93, 55], [296.03125, 4650.28125, 538, 55], [834.234375, 4650.28125, 93, 55]]}}, {"bbox": [202.046875, 4734.375, 726, 715], "headers": {"text": ["[hide]", "Versions", "Development", "Version history", "Technical", ".minecraft", "Development resources", "Legacy development resources", "Multiplayer", "Game customization"], "bboxes": [[205.046875, 4737.375, 720, 28], [205.046875, 4766.875, 165, 25], [205.046875, 4793.375, 165, 149], [372.046875, 4793.375, 127, 98], [205.046875, 4944.375, 165, 449], [372.046875, 5068.875, 93, 25], [372.046875, 5097.375, 237, 221], [372.046875, 5319.875, 237, 74], [205.046875, 5395.375, 165, 25], [205.046875, 5421.875, 165, 25]]}, "cells": {"text": ["Demo Locations PC Gamer Demo (Beta 1.3)", "Version history Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions\nRemoved features Blocks Items Unused features Exclusive features Mentioned features Sky dimension Planned versions", "Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions", "Known bugs Minecraft Launcher Hardware requirements al_version Block entity Commands Functions Crashes Data values Classic Indev Pre-flattening Data version Debug screen Formatting codes Key codes Minecraft Launcher Protocol version Resource location Screenshot Seed Statistics Tick Spawn chunk Coordinates\n.minecraft client.jar client.json launcher_profiles.json options.txt\nDevelopment resources Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format\nLegacy development resources Classic level format Classic server protocol Indev level format Alpha level format server_level.dat", "client.jar client.json launcher_profiles.json options.txt", "Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format", "Classic level format Classic server protocol Indev level format Alpha level format server_level.dat", "Server Minecraft Realms Server list server.properties Server requirements", "Skins Capes Resource packs Data packs"], "bboxes": [[372.046875, 4766.875, 553, 25], [372.046875, 4793.375, 553, 149], [501.046875, 4793.375, 424, 98], [372.046875, 4944.375, 553, 449], [467.046875, 5068.875, 458, 25], [611.046875, 5097.375, 314, 221], [611.046875, 5319.875, 314, 74], [372.046875, 5395.375, 553, 25], [372.046875, 5421.875, 553, 25]]}}, {"bbox": [370.046875, 4791.375, 557, 102], "headers": {"text": ["Version history"], "bboxes": [[372.046875, 4793.375, 127, 98]]}, "cells": {"text": ["Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions"], "bboxes": [[501.046875, 4793.375, 424, 98]]}}, {"bbox": [370.046875, 5066.875, 557, 28], "headers": {"text": [".minecraft"], "bboxes": [[372.046875, 5068.875, 93, 25]]}, "cells": {"text": ["client.jar client.json launcher_profiles.json options.txt"], "bboxes": [[467.046875, 5068.875, 458, 25]]}}, {"bbox": [370.046875, 5095.375, 557, 300], "headers": {"text": ["Development resources", "Legacy development resources"], "bboxes": [[372.046875, 5097.375, 237, 221], [372.046875, 5319.875, 237, 74]]}, "cells": {"text": ["Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format", "Classic level format Classic server protocol Indev level format Alpha level format server_level.dat"], "bboxes": [[611.046875, 5097.375, 314, 221], [611.046875, 5319.875, 314, 74]]}}], "images": [{"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/b/bc/Brush.png", "path": "images/img.png", "alt_text": "", "caption": null, "bbox": [260.53125, 433.984375, 32, 32]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/35/Information_icon.svg", "path": "images/Information icon.png", "alt_text": "Information icon", "caption": null, "bbox": [260.53125, 489.671875, 32, 32]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/9/9b/Convert.png", "path": "images/img (1).png", "alt_text": "", "caption": "How Minecraft looks when converting to the new format.", "bbox": [747.9375, 3323.40625, 180, 101]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/2/26/Java.png", "path": "images/Java.png", "alt_text": "Java", "caption": null, "bbox": [476.390625, 4737.875, 20, 27]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/f/fc/Java_Edition_subtitle.png", "path": "images/Java Edition subtitle.png", "alt_text": "Java Edition subtitle", "caption": null, "bbox": [499.390625, 4744.375, 98, 14]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/a/a7/Heart.svg", "path": "images/Heart.png", "alt_text": "Heart", "caption": null, "bbox": [634.40625, 4824.875, 9, 9]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/34/Oak_Door_%28item%29_JE1.png", "path": "images/Oak Door (item) JE1.png", "alt_text": "Oak Door (item) JE1", "caption": null, "bbox": [570.40625, 4846.375, 16, 16]}], "sprites": [{"text": "Pre-Classic", "bbox": [503.046875, 4796.375, 16, 16]}, {"text": "Classic", "bbox": [608.40625, 4796.375, 16, 16]}, {"text": "Early Classic Creative", "bbox": [681.765625, 4796.375, 16, 16]}, {"text": "Multiplayer Test", "bbox": [503.046875, 4820.875, 16, 16]}, {"text": "Late Classic Creative", "bbox": [739.40625, 4820.875, 16, 16]}, {"text": "Indev", "bbox": [503.046875, 4845.375, 16, 16]}, {"text": "Alpha", "bbox": [641.40625, 4845.375, 16, 16]}, {"text": "Beta", "bbox": [709.765625, 4845.375, 16, 16]}, {"text": "Full Release", "bbox": [771.125, 4845.375, 16, 16]}, {"text": "Development versions", "bbox": [503.046875, 4869.875, 16, 16]}, {"text": "Removed features", "bbox": [374.046875, 4896.375, 16, 16]}, {"text": "Unused features", "bbox": [624.40625, 4896.375, 16, 16]}, {"text": "Exclusive features", "bbox": [761.765625, 4896.375, 16, 16]}, {"text": "Mentioned features", "bbox": [374.046875, 4920.875, 16, 16]}], "texts": [{"text": "Region file format", "bbox": [202.046875, 353.890625, 593, 45]}, {"text": "The Region file format is the binary file format for storing Java Edition chunks from Beta 1.3 to release 1.2. Each file stores groups of 32\u00d732 chunks.[a] The format took the place of the Alpha level format, which had been in use since the Infdev development phase, where chunks were stored in individual files on the file system. The file does not begin with a magic number, unlike other file formats, and begins directly with the header. The format has been superseded by the Anvil file format; however, the Anvil file format made changes only to the chunk format and changed the region file extensions from \".mcr\" to \".mca\".", "bbox": [202.046875, 542.265625, 726, 147]}, {"text": "The system is based on McRegion,[2] a mod by Scaevolus, also known for his development of the Optimine project. The McRegion format was adopted nearly unchanged, except for the addition of a table of chunk update timestamps. JahKob has claimed that this format is up to 7 times faster than the previous system.[3] The difference in a world's total file size between the Region file format and the Alpha level format is negligible.", "bbox": [202.046875, 713.265625, 726, 98]}, {"text": "Contents", "bbox": [215.046875, 851.015625, 81, 17]}, {"text": "1 Location\n2 Structure\n2.1 Header\n2.1.1 Chunk location\n2.1.2 Chunk timestamps\n2.2 Payload\n3 Migration and level.dat\n4 See also\n5 External links\n6 References\n7 Notes\n8 Software", "bbox": [203.046875, 884.28125, 215, 360]}, {"text": "Location", "bbox": [202.046875, 1269.28125, 726, 43]}, {"text": "Region files are located in a subfolder of the world directory, \"region\", and have names in the form r.x.z.mcr, where x and z are the region's coordinates.", "bbox": [202.046875, 1321.28125, 726, 49]}, {"text": "The coordinates for the region a chunk belongs to can be found by taking the floor of dividing the chunk coordinates by 32, or by bit shifting 5 bits to the right. For example, a chunk at (30, -3) would be in the region (0, -1), and one at (1500, -600) would be at (46, -19).", "bbox": [202.046875, 1394.28125, 726, 74]}, {"text": "Structure", "bbox": [202.046875, 1639.78125, 726, 43]}, {"text": "Header", "bbox": [202.046875, 1706.78125, 726, 22]}, {"text": "Region files begin with an 8KiB header containing information about which chunks are present in the region file, when they were last updated, and where they can be found. The location in the region file of a chunk at (x, z) (in chunk coordinates) must be found at byte offset 4 * ((x mod 32) + (z mod 32) * 32) in its region file. In case the values of x mod 32 or z mod 32 are negative (which happens when using % operator in Java/C/C++), simply add 32 or the player can replace mod with & (AND operator). Offset calculation look like this: 4 * ((x & 31) + (z & 31) * 32). Its timestamp can be found 4096 bytes later in the file. The remainder of the file consists of data for up to 1024 chunks, interspersed with unused space.", "bbox": [202.046875, 1741.28125, 726, 172]}, {"text": "Chunk location", "bbox": [202.046875, 2070.46875, 726, 20]}, {"text": "Location information for a chunk consists of four bytes split into two fields: the first three bytes are a (big-endian) offset in 4KiB sectors from the start of the file, and a remaining byte that gives the length of the chunk (also in 4KiB sectors, rounded up). Chunks are always less than 1MiB in size. If a chunk isn't present in the region file (e.g. because it hasn't been generated or migrated yet), both fields are zero.", "bbox": [202.046875, 2099.46875, 726, 98]}, {"text": "A chunk with an offset of 2 begins right after the timestamps table.", "bbox": [202.046875, 2312.65625, 726, 24]}, {"text": "Chunk timestamps", "bbox": [202.046875, 2361.15625, 726, 20]}, {"text": "The entries in the timestamp table are individual four-byte big-endian integers, representing the last modification time of a chunk in epoch seconds.", "bbox": [202.046875, 2390.15625, 726, 49]}, {"text": "Payload", "bbox": [202.046875, 2578.34375, 726, 23]}, {"text": "Chunk data begins with a (big-endian) four-byte length field that indicates the exact length of the remaining chunk data in bytes. The following byte indicates the compression scheme used for chunk data, and the remaining (length-1) bytes are the compressed chunk data.", "bbox": [202.046875, 2612.84375, 726, 73]}, {"text": "Minecraft always pads the last chunk's data to be a multiple-of-4096B in length (so that the entire file has a size that is a multiple of 4KiB). Minecraft does not accept files in which the last chunk is not padded. Note that this padding is not included in the length field.", "bbox": [202.046875, 2710.34375, 726, 74]}, {"text": "There are currently three defined compression schemes:", "bbox": [202.046875, 2899.03125, 726, 25]}, {"text": "The uncompressed data is in NBT format and follows the information detailed on the chunk format article; if compressed with compression scheme 1, the compressed data would be the same as the on-disk content of an Alpha chunk file. Note that chunks are always saved using compression scheme 2 by the official client.", "bbox": [202.046875, 3100.90625, 726, 74]}, {"text": "If the value of compression scheme increases by 128, the compressed data is saved in a file called c.x.z.mcc, where x and z are the chunk's coordinates, instead of the usual position.", "bbox": [202.046875, 3198.40625, 726, 49]}, {"text": "Migration and level.dat", "bbox": [202.046875, 3271.40625, 726, 43]}, {"text": "Beta 1.3 converts any \"old\" chunks into region files before loading the world, rather than incrementally as they are loaded during play. As part of the conversion, level.dat is updated with TAG_Int(\"version\") (note case) set to 19132. Beta 1.3 also introduces a new level name field, TAG_String(\"LevelName\"). There's also introduced new TAG_Byte(\"Sleeping\") in player TAG_Compounds - level.dat in singleplayer, [player name].dat in multiplayer that indicates whether is player in the bed. It has value 1(true) or 0(false). For the beta 1.8, TAG_Int(\"GameType\") was added. In beta 1.9, TAG_byte(\"hardcore\") was added.", "bbox": [202.046875, 3323.40625, 726, 196]}, {"text": "The format of level.dat is otherwise unchanged.", "bbox": [202.046875, 3543.40625, 726, 24]}, {"text": "See also", "bbox": [202.046875, 3591.90625, 726, 43]}, {"text": "Java Edition level format\nChunk format\nAnvil file format", "bbox": [238.046875, 3643.90625, 690, 74]}, {"text": "External links", "bbox": [202.046875, 3735.40625, 726, 43]}, {"text": "Mojang announcement of new region format; Jeb helping tool-makers\nMcRegion\nRegionFile in Java\nRegionFileCache in Java\nFind region file from coordinates", "bbox": [238.046875, 3787.40625, 690, 122]}, {"text": "References", "bbox": [202.046875, 3927.90625, 726, 43]}, {"text": "\"New Minecraft Map Format, \u201cAnvil\u201d\" (Archive) by Bergensten, Jens \u2013 Mojang.com, February 14, 2012. \"Maximum build height has been increased to 256 (was 128)\"", "bbox": [238.046875, 3982.90625, 650, 41]}, {"text": "http://www.minecraftforum.net/forums/mapping-and-modding/minecraft-mods/mods-discussion/1346703-mod-mcregion-v5-optimized-saves-1-2_02#p2619453", "bbox": [238.046875, 4031.90625, 580, 41]}, {"text": "http://www.pcgamer.com/minecraft-dev-diary-new-block-magic-fiddles/", "bbox": [248.046875, 4080.90625, 481, 17]}, {"text": "Notes", "bbox": [202.046875, 4120.40625, 726, 43]}, {"text": "A total of 1024 chunks can be stored in the format, covering an area of 512\u00d7512 blocks.[1]", "bbox": [248.046875, 4175.40625, 559, 17]}, {"text": "Software", "bbox": [202.046875, 4214.90625, 726, 43]}, {"text": "The community has developed programs to work with region files:", "bbox": [202.046875, 4266.90625, 726, 25]}]}