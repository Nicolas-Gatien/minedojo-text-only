{"metadata": {"url": "https://minecraft.fandom.com/wiki/Procedural_animated_texture_generation/Water", "title": "Procedural_animated_texture_generation/Water", "time": "17/04/2022 02:23:35"}, "tables": [], "images": [], "sprites": [{"text": null, "bbox": [220.046875, 1191.59375, 16, 16]}], "texts": [{"text": "Procedural animated texture generation/Water", "bbox": [202.046875, 313, 593, 90]}, {"text": "Still water", "bbox": [202.046875, 465.5, 726, 20]}, {"text": "Adapted from https://github.com/UnknownShadow200/ClassiCube/wiki/MInecraft-Classic-lava-animation-algorithm#water", "bbox": [202.046875, 494.5, 726, 49]}, {"text": "Every frame, for each position in the still water texture array, the respective values for soup_heat, pot_heat and flame_heat are calculated as detailed below:", "bbox": [202.046875, 567.5, 726, 49]}, {"text": "Calculates a local_soup_heat equal to the sum of the 3x1 soup_heat neighborhood around the current element.\nCalculates the new soup_heat as the sum of the local_soup_heat divided by 3.3F plus the pot_heat times 0.8F\nCalculates the new pot_heat as the current pot_heat plus the flame_heat times 0.05. pot_heat is clamped to a minimum of 0.\nCalculates the new flame_heat as the current flame_heat minus 0.1F.\nHowever, there is a 0.05 in 1 random chance that flame_heat is set to 0.5.", "bbox": [238.046875, 640.5, 690, 202]}, {"text": "Once the above arrays have been updated, for each pixel in the water texture, the color and alpha values are calculated based on soup_heat:", "bbox": [202.046875, 860.5, 726, 49]}, {"text": "Calculates a color_heat as the soup_heat clamped between 0 and 1 inclusive.\nThen it calculates the color components of the pixel as follows:\nfloat red = 32 + color_heat^2 * 32\nfloat green = 50 + color_heat^2 * 64\nfloat blue = 255\nfloat alpha = 146 + color_heat^2 * 50", "bbox": [238.046875, 933.5, 690, 153]}, {"text": "The red, green and blue values are then converted to bytes and assigned to the texture accordingly.", "bbox": [202.046875, 1104.5, 726, 25]}, {"text": "Flowing water", "bbox": [202.046875, 1153, 726, 20]}, {"text": "In addition, the flowing water texture also uses a spatial translation to give the appearance of movement. This transformation moves the flowing water texture downwards by one pixel after a fixed amount of time,[more information needed] wrapping the bottom layer of the texture back to the top.", "bbox": [202.046875, 1280.9375, 726, 74]}]}