{"metadata": {"url": "https://minecraft.fandom.com/wiki/Anvil_file_format", "title": "Anvil_file_format", "time": "17/04/2022 01:32:06"}, "tables": [{"bbox": [202.046875, 2330.203125, 725, 118], "headers": {"text": ["Java Edition", "1.2.1", "12w07a", "1.16", "20w14a"], "bboxes": [[202.546875, 2330.703125, 724, 31], [202.546875, 2361.796875, 42, 31], [244.734375, 2361.796875, 68, 31], [202.546875, 2392.890625, 42, 55], [244.734375, 2392.890625, 68, 55]]}, "cells": {"text": ["Added The Anvil File Format.", "Files in this format are now opened in synchronous mode to prevent data loss and corruption after crash."], "bboxes": [[312.921875, 2361.796875, 614, 31], [312.921875, 2392.890625, 614, 55]]}}, {"bbox": [202.046875, 2757.484375, 726, 715], "headers": {"text": ["[hide]", "Versions", "Development", "Version history", "Technical", ".minecraft", "Development resources", "Legacy development resources", "Multiplayer", "Game customization"], "bboxes": [[205.046875, 2760.484375, 720, 28], [205.046875, 2789.984375, 165, 25], [205.046875, 2816.484375, 165, 149], [372.046875, 2816.484375, 127, 98], [205.046875, 2967.484375, 165, 449], [372.046875, 3091.984375, 93, 25], [372.046875, 3120.484375, 237, 221], [372.046875, 3342.984375, 237, 74], [205.046875, 3418.484375, 165, 25], [205.046875, 3444.984375, 165, 25]]}, "cells": {"text": ["Demo Locations PC Gamer Demo (Beta 1.3)", "Version history Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions\nRemoved features Blocks Items Unused features Exclusive features Mentioned features Sky dimension Planned versions", "Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions", "Known bugs Minecraft Launcher Hardware requirements al_version Block entity Commands Functions Crashes Data values Classic Indev Pre-flattening Data version Debug screen Formatting codes Key codes Minecraft Launcher Protocol version Resource location Screenshot Seed Statistics Tick Spawn chunk Coordinates\n.minecraft client.jar client.json launcher_profiles.json options.txt\nDevelopment resources Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format\nLegacy development resources Classic level format Classic server protocol Indev level format Alpha level format server_level.dat", "client.jar client.json launcher_profiles.json options.txt", "Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format", "Classic level format Classic server protocol Indev level format Alpha level format server_level.dat", "Server Minecraft Realms Server list server.properties Server requirements", "Skins Capes Resource packs Data packs"], "bboxes": [[372.046875, 2789.984375, 553, 25], [372.046875, 2816.484375, 553, 149], [501.046875, 2816.484375, 424, 98], [372.046875, 2967.484375, 553, 449], [467.046875, 3091.984375, 458, 25], [611.046875, 3120.484375, 314, 221], [611.046875, 3342.984375, 314, 74], [372.046875, 3418.484375, 553, 25], [372.046875, 3444.984375, 553, 25]]}}, {"bbox": [370.046875, 2814.484375, 557, 102], "headers": {"text": ["Version history"], "bboxes": [[372.046875, 2816.484375, 127, 98]]}, "cells": {"text": ["Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions"], "bboxes": [[501.046875, 2816.484375, 424, 98]]}}, {"bbox": [370.046875, 3089.984375, 557, 28], "headers": {"text": [".minecraft"], "bboxes": [[372.046875, 3091.984375, 93, 25]]}, "cells": {"text": ["client.jar client.json launcher_profiles.json options.txt"], "bboxes": [[467.046875, 3091.984375, 458, 25]]}}, {"bbox": [370.046875, 3118.484375, 557, 300], "headers": {"text": ["Development resources", "Legacy development resources"], "bboxes": [[372.046875, 3120.484375, 237, 221], [372.046875, 3342.984375, 237, 74]]}, "cells": {"text": ["Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format", "Classic level format Classic server protocol Indev level format Alpha level format server_level.dat"], "bboxes": [[611.046875, 3120.484375, 314, 221], [611.046875, 3342.984375, 314, 74]]}}], "images": [{"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/35/Information_icon.svg", "path": "images/Information icon.png", "alt_text": "Information icon", "caption": null, "bbox": [260.53125, 424.09375, 32, 32]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/4/4a/Anvil_Conversion.png", "path": "images/img.png", "alt_text": "", "caption": "Converting a world from MCRegion format to Anvil.", "bbox": [727.9375, 864.703125, 200, 112]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/2/26/Java.png", "path": "images/Java.png", "alt_text": "Java", "caption": null, "bbox": [476.390625, 2760.984375, 20, 27]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/f/fc/Java_Edition_subtitle.png", "path": "images/Java Edition subtitle.png", "alt_text": "Java Edition subtitle", "caption": null, "bbox": [499.390625, 2767.484375, 98, 14]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/a/a7/Heart.svg", "path": "images/Heart.png", "alt_text": "Heart", "caption": null, "bbox": [634.40625, 2847.984375, 9, 9]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/34/Oak_Door_%28item%29_JE1.png", "path": "images/Oak Door (item) JE1.png", "alt_text": "Oak Door (item) JE1", "caption": null, "bbox": [570.40625, 2869.484375, 16, 16]}], "sprites": [{"text": "Pre-Classic", "bbox": [503.046875, 2819.484375, 16, 16]}, {"text": "Classic", "bbox": [608.40625, 2819.484375, 16, 16]}, {"text": "Early Classic Creative", "bbox": [681.765625, 2819.484375, 16, 16]}, {"text": "Multiplayer Test", "bbox": [503.046875, 2843.984375, 16, 16]}, {"text": "Late Classic Creative", "bbox": [739.40625, 2843.984375, 16, 16]}, {"text": "Indev", "bbox": [503.046875, 2868.484375, 16, 16]}, {"text": "Alpha", "bbox": [641.40625, 2868.484375, 16, 16]}, {"text": "Beta", "bbox": [709.765625, 2868.484375, 16, 16]}, {"text": "Full Release", "bbox": [771.125, 2868.484375, 16, 16]}, {"text": "Development versions", "bbox": [503.046875, 2892.984375, 16, 16]}, {"text": "Removed features", "bbox": [374.046875, 2919.484375, 16, 16]}, {"text": "Unused features", "bbox": [624.40625, 2919.484375, 16, 16]}, {"text": "Exclusive features", "bbox": [761.765625, 2919.484375, 16, 16]}, {"text": "Mentioned features", "bbox": [374.046875, 2943.984375, 16, 16]}], "texts": [{"text": "Anvil file format", "bbox": [202.046875, 349.5, 593, 45]}, {"text": "Anvil[1] is a file storage format. It brings a list of changes and improvements over from the previous file format, Region. It was implemented in snapshot 12w07a for release in Java Edition 1.2.1.", "bbox": [202.046875, 476.6875, 726, 49]}, {"text": "Contents", "bbox": [215.046875, 565.4375, 81, 17]}, {"text": "1 Changes from MCRegion\n1.1 Further information\n2 World size reduction post-conversion\n3 History\n4 See also\n5 References", "bbox": [203.046875, 598.703125, 287, 189]}, {"text": "Changes from MCRegion", "bbox": [202.046875, 812.703125, 726, 43]}, {"text": "The only changes from MCRegion to Anvil were in the Chunk format; the Region file format is still used, but labeled as Anvil. The Anvil format introduced these changes to the Chunk format:", "bbox": [202.046875, 864.703125, 726, 74]}, {"text": "Maximum build height has been increased to 256 (from 128).\nEmpty sections of the world are not loaded into memory or saved to disk.\nThe maximum Block ID has been increased to 4096 (was 256) by adding a 4-bit data layer (similar to how meta data is stored). The rest of Minecraft's code is not currently prepared to take advantage of this, however.\nBlock ordering has been changed from XZY to YZX in order to improve compression.\nPackets for sending chunks have been optimized (a chunk without air is smaller than in the same chunk in the old format, and a chunk with lots of air is even smaller).\nBiomes are saved per X,Z column, rather than being calculated on the fly, which means they can be altered by tools; this is useful for map makers. It also prevents bugs where features don't match the biome after changing the terrain algorithm. (Also known as \"Biome Shifting\")", "bbox": [238.046875, 962.203125, 690, 269]}, {"text": "Further information", "bbox": [202.046875, 1255.703125, 726, 23]}, {"text": "Versions from 12w07a to 1.17.1 automatically convert worlds to the new format, but a copy of the world files is created in the previous formats for compatibility with older game versions. The world generator has not been changed, so there is an additional 128 blocks of air above the usual terrain, making 192 blocks from sea level to the height limit.", "bbox": [202.046875, 1290.203125, 726, 98]}, {"text": "The 16\u00d7128\u00d716 \"Blocks\", \"Data\", \"SkyLight\" and \"BlockLight\" tags were moved and repurposed. (see below)\nA \"Sections\" List tag containing Compound tags has been added with up to 16 Compound tags.\nEach section has 16\u00d716\u00d716 \"Blocks\", \"Data\", \"SkyLight\" and \"BlockLight\" tags.\nEach section has a \"Y\" Byte tag saying which section it is (note that some Y positions can be skipped). 0 is at the bottom of the world and 15 is the topmost section.\nEach section also has an optional \"Add\" tag, which is a DataLayer byte array just like \"Data\". The \"Add\" tag is not included in the converter since the old format never had block ids above 255. This extra tag is created whenever a block requires it, so the getTile() method needs to check if the array exists and then combine it with the default block data. In other words, blockId = (add << 8) + baseId.\nEach chunk has a 16\u00d716 byte array with biome IDs called \"Biomes\". If this array is missing it is filled when the game starts, as well any -1 values in the array. The converter source provided for developers doesn't include any biome sources, however.\nNote that the old format is XZY ((x * 16 + z) * 16 + y) and the new format is YZX ((y * 16 + z) * 16 + x) (see the difference between DataLayer and OldDataLayer).\nThe new format uses the extension \".mca\" instead of \".mcr\" (the old format is kept for safety, with the level.dat backed up as \"level.dat_mcr\").\nA new NBT tag type called IntArray was added to the NBT Format (With ID 11) and is used by the \"Heightmap\" tag.", "bbox": [238.046875, 1412.203125, 690, 441]}, {"text": "Additional information may be found on the Chunk format page.", "bbox": [202.046875, 1871.203125, 726, 24]}, {"text": "World size reduction post-conversion", "bbox": [202.046875, 1919.703125, 726, 43]}, {"text": "Anvil world data uses a .mca file extension, while McRegion uses .mcr. The game leaves the old McRegion files after converting a world to Anvil, despite the game never using them again. To reduce the file size of backups, the old McRegion files may be deleted. To do this, perform the following steps:", "bbox": [202.046875, 1971.703125, 726, 74]}, {"text": "Windows:\nOpen the command prompt (press \u229e Win and R together, type cmd, and press \u21b5 Enter)\nRun the following command: del /f /q \"[path to world folder]\\region\\*.mcr\"", "bbox": [238.046875, 2069.203125, 690, 79]}, {"text": "Linux and macOS:\nOpen the terminal\nRun the following command: rm -f \"[path to world folder]\"/region/*.mcr", "bbox": [238.046875, 2166.703125, 690, 80]}, {"text": "History", "bbox": [202.046875, 2264.203125, 726, 43]}, {"text": "See also", "bbox": [202.046875, 2480.984375, 726, 43]}, {"text": "Java Edition level format\nChunk format\nRegion file format", "bbox": [238.046875, 2532.984375, 690, 74]}, {"text": "References", "bbox": [202.046875, 2624.484375, 726, 43]}, {"text": "https://web.archive.org/web/20120302221152/https://www.mojang.com/2012/02/new-minecraft-map-format-anvil/", "bbox": [238.046875, 2679.484375, 658, 42]}]}