{"metadata": {"url": "https://minecraft.fandom.com/wiki/Programs_and_editors/Tectonicus/VPS", "title": "Programs_and_editors/Tectonicus/VPS", "time": "17/04/2022 04:06:02"}, "tables": [], "images": [{"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/f/f2/Paper_JE2_BE2.png", "path": "images/Paper JE2 BE2.png", "alt_text": "Paper JE2 BE2", "caption": null, "bbox": [260.53125, 500.59375, 32, 32]}], "sprites": [], "texts": [{"text": "Programs and editors/Tectonicus/VPS", "bbox": [202.046875, 349.5, 593, 90]}, {"text": "This tutorial should only be used on a VPS/headless machine.", "bbox": [202.046875, 560.1875, 726, 25]}, {"text": "Note: If your headless server has a graphics adapter only install libgl1-mesa-swx11 if you are experiencing any problems.", "bbox": [202.046875, 608.6875, 726, 49]}, {"text": "Note: I am using the sun-java6-jdk but it should also work with the openjdk.", "bbox": [202.046875, 681.6875, 726, 24]}, {"text": "Note: Beware to not only install a headless jdk i.e. openjdk-7-jre-headless beacause you are going to use a virtual head like a vnc server.", "bbox": [202.046875, 730.1875, 726, 49]}, {"text": "Contents", "bbox": [215.046875, 818.9375, 81, 17]}, {"text": "1 Ubuntu 10.04\n2 Ubuntu 10.10 64 bit\n3 Ubuntu 11.04\n4 Ubuntu 11.10 oneiric 64 bit\n5 Ubuntu 12.10 (Quantal) 64 bit\n6 Debian (e.g. all apt based distributions, also Ubuntu before 10.04)\n7 Debian 6.0 (Squeeze)\n8 Debian 8.0 (Jessie)\n9 OpenSuse\n10 Archlinux\n11 RHEL/CentOS 5 (and likely other RPM based distributions)\n12 xvfb-run script\n13 Windows 7 / Server 2008 R2\n14 Tectonicus Setup\n15 Feedback", "bbox": [203.046875, 852.203125, 400, 495]}, {"text": "Ubuntu 10.04", "bbox": [202.046875, 1371.703125, 726, 43]}, {"text": "I have got Tectonicus running this way on an EC2 Ubuntu 10.04 Lucid machine.", "bbox": [202.046875, 1423.703125, 726, 24]}, {"text": "Install minimal xserver stack:\nsudo apt-get install xvfb libgl1-mesa-swx11 libxcursor1 libxrandr2 libxxf86vm1\nFor testing purpose install mesa-utils and try xvfb-run glxinfo and xvfb-run glxgears:\napt-get install mesa-utils and try xvfb-run glxinfo xvfb-run glxgears\nAlso test with xvfb-run -a xrandr. If you get this error:\n/usr/bin/xvfb-run: 182: xrandr: not found\ninstall x11-xserver-utils like so:\nsudo apt-get install x11-xserver-utils", "bbox": [238.046875, 1472.203125, 690, 258]}, {"text": "You now have all needed dependencies installed further Informations see Programs and editors/Tectonicus/VPS#Tectonicus Setup", "bbox": [202.046875, 1748.203125, 726, 49]}, {"text": "Ubuntu 10.10 64 bit", "bbox": [202.046875, 1821.203125, 726, 43]}, {"text": "I first ran the suggested above: sudo apt-get install xvfb libgl1-mesa-swx11 libxcursor1 libxrandr2 libxxf86vm1\nNote: Not sure if these packages were required or not: libxcursor1 libxrandr2 libxxf86vm1\nBut was getting this error: Exception in thread \"main\" java.lang.UnsatisfiedLinkError: /opt/java/64/jre1.6.0_24/lib/amd64/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\nThe solution was to run: sudo apt-get install libxtst6 libxt6", "bbox": [238.046875, 1873.203125, 690, 172]}, {"text": "Ubuntu 11.04", "bbox": [202.046875, 2062.703125, 726, 43]}, {"text": "Currently does not work. Does this require a patched xvfb?", "bbox": [238.046875, 2114.703125, 690, 24]}, {"text": "Ubuntu 11.10 oneiric 64 bit", "bbox": [202.046875, 2157.203125, 726, 43]}, {"text": "It can be made to not use xvfb at all and by that skipping the patch thing + more since some necessary components were removed that allowed xvfb to use randr.", "bbox": [202.046875, 2209.203125, 726, 49]}, {"text": "I am using the fact that the Real VNC Server is capable of doing what's needed.", "bbox": [202.046875, 2282.203125, 726, 25]}, {"text": "Installation", "bbox": [202.046875, 2330.703125, 726, 24]}, {"text": "$>sudo apt-get install vnc4server\nPossibly: $>sudo apt-get install libgl1-mesa-swx11 libxcursor1 libxrandr2 libxxf86vm1", "bbox": [238.046875, 2379.203125, 690, 49]}, {"text": "Running", "bbox": [202.046875, 2446.203125, 726, 25]}, {"text": "$>vncserver :1\n$>export DISPLAY=:1\n$>java -jar Tectonicus.jar config=config.xml", "bbox": [238.046875, 2494.703125, 690, 73]}, {"text": "For cleaning up after", "bbox": [202.046875, 2586.203125, 726, 25]}, {"text": "$>vncserver -kill :1\n$>export DISPLAY=", "bbox": [238.046875, 2634.703125, 690, 49]}, {"text": "The only thing not standard in my config.xml is force64BitNatives=\"true\"", "bbox": [202.046875, 2701.703125, 726, 24]}, {"text": "All this can be easily be scripted and run as a cron job.", "bbox": [202.046875, 2750.203125, 726, 25]}, {"text": "Ubuntu 12.10 (Quantal) 64 bit", "bbox": [202.046875, 2798.703125, 726, 43]}, {"text": "Same as above. The only difference is getting hold of libgl1-mesa-swx11 which appears to be deprecated for this version of Ubuntu.", "bbox": [202.046875, 2850.703125, 726, 49]}, {"text": "My solution was to get the package from here (from 12.04/Precise) and manually install it using dpkg. Doing this may mean removing any other installation of libgl, so be sure that this is what you want (that is, that it will not break anything else doing so).", "bbox": [202.046875, 2923.703125, 726, 73]}, {"text": "Once all this is done, run through the steps above and tectonicus should work.", "bbox": [202.046875, 3021.203125, 726, 25]}, {"text": "Not the most ideal solution, but a solution nonetheless (until something better comes along).", "bbox": [202.046875, 3069.703125, 726, 24]}, {"text": "Debian (e.g. all apt based distributions, also Ubuntu before 10.04)", "bbox": [202.046875, 3118.203125, 726, 73]}, {"text": "I have got Tectonicus running this way on an EC2 Debian 5.0 Lenny machine.", "bbox": [202.046875, 3200.203125, 726, 25]}, {"text": "To get tectonicus running you will need to recompile xvfb (yeah it's really sad, it is a one-line bug).", "bbox": [202.046875, 3248.703125, 726, 24]}, {"text": "sudo apt-get build-dep xvfb\nYou will now have to add a deb-src repository to you /etc/apt/sources.list\nsudo apt-get source xvfb\nyou will know get a directory called xorg-server-X.X.X we now need to patch the source.\nwget https://bugs.launchpad.net/xorg-server/+bug/516123/+attachment/1126330/+files/xvfb-fbScreenInit-handling.patch\nwget https://bugs.launchpad.net/xorg-server/+bug/516123/+attachment/1126331/+files/xvfb-randr.patch\nYou have to apply this patches in the right order\npatch -p1 xorg-server-X.X.X/hw/vfb/InitOutput.c xvfb-fbScreenInit-handling.patch\npatch -p1 xorg-server-X.X.X/hw/vfb/InitOutput.c xvfb-randr.patch\nsudo apt-get install fakeroot\ncd xorg-server-X.X.X\nThe next step will probably take hours.\ndpkg-buildpackage -rfakeroot -uc -b\ncd ..\ndpkg -i xvfb_*.deb\nsudo apt-get install libgl1-mesa-swx11 libxcursor1 libxrandr2 libxxf86vm1 x11-xserver-utils xfonts-base\nNow try xvfb-run -a xrandr. If everything worked how its supposed to work you should get no errors.\nFor testing purpose install mesa-utils and try xvfb-run glxinfo and xvfb-run glxgears", "bbox": [238.046875, 3297.203125, 690, 490]}, {"text": "You now have all needed dependencies installed further Informations see Programs and editors/Tectonicus/VPS#Tectonicus Setup", "bbox": [202.046875, 3805.203125, 726, 49]}, {"text": "Note: If anyone knows an easier way to patch xvfb or could provide debs I would be grateful.", "bbox": [202.046875, 3878.203125, 726, 25]}, {"text": "Debian 6.0 (Squeeze)", "bbox": [202.046875, 3926.703125, 726, 43]}, {"text": "I had to follow the above steps to patch and build xvfb but I also had to install a mesa lib.", "bbox": [202.046875, 3978.703125, 726, 24]}, {"text": "sudo apt-get install libgl1-mesa-swx11", "bbox": [202.046875, 4027.203125, 726, 25]}, {"text": "Debian 8.0 (Jessie)", "bbox": [202.046875, 4075.703125, 726, 43]}, {"text": "Follow the prior steps for recompiling xvfb but use the following patch instead of the other two:", "bbox": [202.046875, 4127.703125, 726, 24]}, {"text": "wget http://patchwork.freedesktop.org/patch/13852/raw/ -O xvfb-add-randr-support-v2.patch\npatch -p1 xorg-server-X.X.X/hw/vfb/InitOutput.c xvfb-add-randr-support-v2.patch", "bbox": [238.046875, 4176.203125, 690, 49]}, {"text": "OpenSuse", "bbox": [202.046875, 4243.203125, 726, 43]}, {"text": "Coming soon", "bbox": [202.046875, 4295.203125, 726, 25]}, {"text": "Archlinux", "bbox": [202.046875, 4343.703125, 726, 43]}, {"text": "From Extra/Core repo:", "bbox": [202.046875, 4395.703125, 726, 24]}, {"text": "sudo pacman -Sy xorg-server-xvfb xorg-server-utils xorg-server libxcursor libgl mesa libxrandr xorg-xrandr libxxf86vm", "bbox": [238.046875, 4444.203125, 654, 49]}, {"text": "That is as far as I got. if anyone can track down the dependencies for arch we could get this together.", "bbox": [202.046875, 4517.203125, 726, 25]}, {"text": "Coming soon", "bbox": [202.046875, 4565.703125, 726, 24]}, {"text": "RHEL/CentOS 5 (and likely other RPM based distributions)", "bbox": [202.046875, 4614.203125, 726, 43]}, {"text": "copy the xvfb-run script below to /usr/local/bin\nFor testing purpose try to run:", "bbox": [238.046875, 4712.203125, 690, 49]}, {"text": "You now have all needed dependencies installed further Informations see Programs and editors/Tectonicus/VPS#Tectonicus Setup", "bbox": [202.046875, 4847.203125, 726, 49]}, {"text": "NOTE: It turns out that you will also need the patches mentioned in the Debian instructions above and apply them to the xorg-x11-server-${VERSION}.src.rpm and then rebuild it (at least for RHEL/CentOS 5), otherwise the \"xvfb-run -a xrandr\" command will fail.", "bbox": [202.046875, 4920.203125, 726, 74]}, {"text": "CentOS 5.6 Source RPM (I had difficulty finding this) ftp://ftp.pbone.net/mirror/ftp.centos.org/5.6/updates/SRPMS/xorg-x11-server-1.1.1-48.76.el5_6.4.src.rpm", "bbox": [202.046875, 5017.703125, 726, 49]}, {"text": "Tutorial on how to patch XORG, by AltairPT", "bbox": [202.046875, 5090.703125, 726, 49]}, {"text": "I made this tutorial to show how to patch XORG, step by step so those that do not know much about Linux can still use this Tutorial. Sorry for the long read...", "bbox": [202.046875, 5163.703125, 726, 49]}, {"text": "To patch xorg you will need to create a new user account (if you are still using root, to prevent damage). Not going to explain here how because there is plenty of tutorials on how to do this over the Internet.", "bbox": [202.046875, 5236.703125, 726, 73]}, {"text": "1 - By default RHEL/CentOS 5 uses /usr/src/redhat as the location of the %_topdir macro. We should change this to avoid things go wrong.", "bbox": [202.046875, 5334.203125, 726, 49]}, {"text": "Add something like the following to ~/.rpmmacros", "bbox": [202.046875, 5407.203125, 726, 25]}, {"text": "2 - If you never worked with RPMs in this way create this directories:", "bbox": [202.046875, 5509.703125, 726, 49]}, {"text": "3 - Now it's time to download the xvfb source.", "bbox": [202.046875, 5664.703125, 726, 49]}, {"text": "4 - Get the xorg-x11-server.spec from xvfb by installing:", "bbox": [202.046875, 5805.703125, 726, 49]}, {"text": "Now that we have the file we can go to the next step.", "bbox": [202.046875, 5918.703125, 726, 49]}, {"text": "5 - Get the patches from the sources provided on the Debian section:", "bbox": [202.046875, 5991.703125, 726, 49]}, {"text": "6 - To patch xvfb you will need to edit the .spec file:", "bbox": [202.046875, 6160.703125, 726, 24]}, {"text": "If you don't have nano, you could use your favorite text editor or download it. If you don't have SUDO access, install as root.", "bbox": [202.046875, 6209.203125, 726, 49]}, {"text": "Editing xorg-x11-server.spec:", "bbox": [202.046875, 6322.203125, 726, 25]}, {"text": "Go down in the file and till you see:", "bbox": [202.046875, 6438.703125, 726, 24]}, {"text": "Under it add:", "bbox": [202.046875, 6555.203125, 726, 25]}, {"text": "In the end it should look like this", "bbox": [202.046875, 6657.703125, 726, 24]}, {"text": "Then add these lines to the end of the %prep section, after all the other %patch statements:", "bbox": [202.046875, 6858.203125, 726, 25]}, {"text": "Exit nano and save by pressing CTRL + X and then selecting Y", "bbox": [202.046875, 6960.703125, 726, 24]}, {"text": "7 - Now it is time to rebuild the package (this step takes a bit long... You could take that time to go for a snack or kill some creepers =] ):", "bbox": [202.046875, 7009.203125, 726, 74]}, {"text": "NOTE: This step might have work for some but for me, it didn't. I'll try to manually patch the file, since after compiling it this way it gave us the source code of the program.", "bbox": [202.046875, 7160.703125, 726, 49]}, {"text": "8 - Now it's time to install the package.", "bbox": [202.046875, 7233.703125, 726, 24]}, {"text": "Now after instaling, test xvfb:", "bbox": [202.046875, 7336.203125, 726, 25]}, {"text": "If it runs, congratulations, you've successfully patched XORG and installed it.", "bbox": [202.046875, 7424.703125, 726, 49]}, {"text": "If it doesn't run, redo the whole tutorial and be more careful that time.", "bbox": [202.046875, 7497.703125, 726, 24]}, {"text": "Tectonicus might not run well yet (Rasterizer errors) but I am working on it and if I find a way to fix it, I'll post it here later.", "bbox": [202.046875, 7546.203125, 726, 49]}, {"text": "9 - Manual Patch (if required):", "bbox": [202.046875, 7619.203125, 726, 49]}, {"text": "This is the case if the first 7 steps did not work correctly. You still need to make them to get here.", "bbox": [202.046875, 7692.203125, 726, 25]}, {"text": "NOTE: Any error in this part will make the compile fail, always doublecheck the code.", "bbox": [202.046875, 7740.703125, 726, 24]}, {"text": "Again I am going to use nano for this. You can use another editor if you feel like, even download it and edit it in your computer.", "bbox": [202.046875, 7789.203125, 726, 49]}, {"text": "Do CTRL + W and search for:", "bbox": [202.046875, 7916.203125, 726, 25]}, {"text": "Make it look like this:", "bbox": [202.046875, 8004.703125, 726, 24]}, {"text": "Now search (CTRL + W) for:", "bbox": [202.046875, 8177.203125, 726, 49]}, {"text": "Make it look like this:", "bbox": [202.046875, 8290.203125, 726, 25]}, {"text": "This should be all for the manual patching.", "bbox": [202.046875, 8630.703125, 726, 24]}, {"text": "Time to recompile!", "bbox": [202.046875, 8679.203125, 726, 25]}, {"text": "Now after this, test xvfb:", "bbox": [202.046875, 8809.703125, 726, 49]}, {"text": "If it runs, congratulations, you've successfully patched XORG and installed it.", "bbox": [202.046875, 8922.703125, 726, 49]}, {"text": "If it doesn't run, redo the whole tutorial and be more careful that time.", "bbox": [202.046875, 8995.703125, 726, 24]}, {"text": "Tectonicus might not run well yet (Rasterizer errors) but I am working on it and if I find a way to fix it, I'll post it here later.", "bbox": [202.046875, 9044.203125, 726, 49]}, {"text": "I hope I have been helpful, any questions, reach me at [1] and send a pm to \"Altair\" or E-Mail me at altair@sgc-clan.com, I'll try to help the best way I can.", "bbox": [202.046875, 9117.203125, 726, 49]}, {"text": "xvfb-run script", "bbox": [202.046875, 9580.703125, 726, 43]}, {"text": "For those who can't get this script via their distribution, here it is:", "bbox": [238.046875, 9632.703125, 690, 24]}, {"text": "Windows 7 / Server 2008 R2", "bbox": [202.046875, 11567.203125, 726, 43]}, {"text": "Running tectonicus on a Windows 7 or 2008 R2 server requires the use of VNC software. Most VNC applications mimick a display area on the server, as if you connected a monitor to it.", "bbox": [202.046875, 11619.203125, 726, 49]}, {"text": "NOTE: This tutorial is for the Windows 7 and Server 2008 R2 operating systems. Previous versions of Windows might work too with this method, but it's unconfirmed.", "bbox": [202.046875, 11692.203125, 726, 49]}, {"text": "Currently only Teamviewer has been tested successfully. Recommended is to stick to Teamviewer at this moment, unless you are unable to do so.", "bbox": [202.046875, 11765.203125, 726, 49]}, {"text": "Teamviewer Instructions:", "bbox": [202.046875, 11838.203125, 726, 25]}, {"text": "Download and install Teamviewer on your server.\nDuring installation, when asked, select Yes to enable remote connection to the server.\nNow Teamviewer should be installed. Proceed to Extra's > Options.\nProceed to the Security tab. Setup a password for unattended access.\nSet Access Control to Full access.\nIf you wish, you can setup display quality in the Remote Control tab.", "bbox": [238.046875, 11886.703125, 690, 147]}, {"text": "Your server should now be set and ready. Remember the ID given to your server.", "bbox": [202.046875, 12051.703125, 726, 24]}, {"text": "Now setup Teamviewer on your laptop, pc, or any computer that is used as a client to connect to the server. No special settings are required on the client. If you wish, sign up for an account, so you may register your server in a contact list.", "bbox": [202.046875, 12100.203125, 726, 74]}, {"text": "Firewall Instructions:", "bbox": [202.046875, 12197.703125, 726, 49]}, {"text": "Teamviewer runs on port 80, the HTTP port, by default. Unless you deny HTTP connections to your server, this port should be unblocked by default. However, if you decide to use a different port, you may need to forward this port to your server, and open the port in your firewall.", "bbox": [202.046875, 12270.703125, 726, 73]}, {"text": "Post Installation Notes:", "bbox": [202.046875, 12368.203125, 726, 49]}, {"text": "If you close teamviewer without logging out on the server, the server will still believe there is a screen for tectonicus to render on. This means that you can setup Task Scheduler to run tectonicus every once in a while. Note that you cannot use Remote Desktop, as this will reinitialize the screen in a way in which it does not support the hardware rendering needed by Tectonicus.", "bbox": [202.046875, 12441.203125, 726, 98]}, {"text": "Any and all problems related to your server's graphics card and its drivers may still occur, so if this doesn't work with Teamviewer: try it with a real screen attached to the server.", "bbox": [202.046875, 12563.203125, 726, 49]}, {"text": "Tectonicus Setup", "bbox": [202.046875, 12636.203125, 726, 43]}, {"text": "You will need a minecraft.jar (Not the one you can download from minecraft.net). Start up the game and the auto-updater will download it to '.minecraft/bin', usually somewhere in your home directory.", "bbox": [202.046875, 12688.203125, 726, 49]}, {"text": "Please replace all /path/to/ to the correct path.", "bbox": [202.046875, 12761.203125, 726, 25]}, {"text": "If you are gettin a biome related error use this flag for tectonicus", "bbox": [202.046875, 12809.703125, 726, 24]}, {"text": "and of course you can use all other flags for tectonicus Programs and editors/Tectonicus#Additional Command Line Arguments", "bbox": [202.046875, 12898.203125, 726, 49]}, {"text": "64bit", "bbox": [238.046875, 12971.203125, 690, 25]}, {"text": "xvfb-run -a '--server-args=-screen 0 1024x768x16' java -Dorg.lwjgl.opengl.Display.allowSoftwareOpenGL=true -Dorg.lwjgl.opengl.Display.noinput=true -jar /path/to/Tectonicus_v1.17.jar mode=cmd worldDir=/path/to/world signs=all outputDir=/path/to/output_dir minecraftJar=/path/to/downloaded/minecraft.jar force64BitNatives=true verbose=true numSamples=0", "bbox": [202.046875, 13013.703125, 726, 147]}, {"text": "32bit", "bbox": [238.046875, 13184.703125, 690, 24]}, {"text": "xvfb-run -a '--server-args=-screen 0 1024x768x16' java -Dorg.lwjgl.opengl.Display.allowSoftwareOpenGL=true -Dorg.lwjgl.opengl.Display.noinput=true -jar /path/to/Tectonicus_v1.17.jar mode=cmd worldDir=/path/to/world signs=all outputDir=/path/to/output_dir minecraftJar=/path/to/downloaded/minecraft.jar verbose=true numSamples=0", "bbox": [202.046875, 13227.203125, 726, 123]}, {"text": "Note: Tectonicus currently works in one of two ways: either the options can be passed through via command line or via console. So anyone out there who is placing their options in an xml file and is using 64 bit will need to enable the force64BitNatives command in the tweeks section of the xml config file.", "bbox": [202.046875, 13373.703125, 726, 73]}, {"text": "64bit config file usage:", "bbox": [238.046875, 13471.203125, 690, 25]}, {"text": "xvfb-run -a '--server-args=-screen 0 1024x768x16' java -Dorg.lwjgl.opengl.Display.allowSoftwareOpenGL=true -Dorg.lwjgl.opengl.Display.noinput=true -jar /path/to/Tectonicus_v1.17.jar config=/path/to/config.xml", "bbox": [202.046875, 13513.703125, 726, 98]}, {"text": "Feedback", "bbox": [202.046875, 13635.703125, 726, 43]}, {"text": "Please give me your feedback in the minecraft forum [2] or via e-mail wallnuss13 [at] gmail [dot] com.", "bbox": [202.046875, 13687.703125, 726, 24]}]}