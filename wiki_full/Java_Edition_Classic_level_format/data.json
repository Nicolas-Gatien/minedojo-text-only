{"metadata": {"url": "https://minecraft.fandom.com/wiki/Java_Edition_Classic_level_format", "title": "Java_Edition_Classic_level_format", "time": "17/04/2022 02:35:54"}, "tables": [{"bbox": [202.046875, 1023.375, 725, 345], "headers": {"text": ["Position", "Size (bytes)", "Name", "Description"], "bboxes": [[202.546875, 1023.875, 72, 55], [274.734375, 1023.875, 69, 55], [343.765625, 1023.875, 253, 55], [596.984375, 1023.875, 330, 55]]}, "cells": {"text": ["0", "4", "Magic ID", "A magic ID is a constant number used to identify the Minecraft file format. The current value is 0x271bb788.", "4", "1", "Version Number", "The version number represents the current format used to save the level. The current value is 2.", "5", "Variable", "Serialized Java com.mojang.minecraft.level.Level Class", "More information about the serialization format used by Java is available in the manual, however, the easiest way to edit the file is to use the classes provided here with the official minecraft-server.jar file."], "bboxes": [[202.546875, 1079.46875, 72, 80], [274.734375, 1079.46875, 69, 80], [343.765625, 1079.46875, 253, 80], [596.984375, 1079.46875, 330, 80], [202.546875, 1159.5625, 72, 80], [274.734375, 1159.5625, 69, 80], [343.765625, 1159.5625, 253, 80], [596.984375, 1159.5625, 330, 80], [202.546875, 1239.65625, 72, 129], [274.734375, 1239.65625, 69, 129], [343.765625, 1239.65625, 253, 129], [596.984375, 1239.65625, 330, 129]]}}, {"bbox": [202.046875, 2004.25, 726, 715], "headers": {"text": ["[hide]", "Versions", "Development", "Version history", "Technical", ".minecraft", "Development resources", "Legacy development resources", "Multiplayer", "Game customization"], "bboxes": [[205.046875, 2007.25, 720, 28], [205.046875, 2036.75, 165, 25], [205.046875, 2063.25, 165, 149], [372.046875, 2063.25, 127, 98], [205.046875, 2214.25, 165, 449], [372.046875, 2338.75, 93, 25], [372.046875, 2367.25, 237, 221], [372.046875, 2589.75, 237, 74], [205.046875, 2665.25, 165, 25], [205.046875, 2691.75, 165, 25]]}, "cells": {"text": ["Demo Locations PC Gamer Demo (Beta 1.3)", "Version history Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions\nRemoved features Blocks Items Unused features Exclusive features Mentioned features Sky dimension Planned versions", "Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions", "Known bugs Minecraft Launcher Hardware requirements al_version Block entity Commands Functions Crashes Data values Classic Indev Pre-flattening Data version Debug screen Formatting codes Key codes Minecraft Launcher Protocol version Resource location Screenshot Seed Statistics Tick Spawn chunk Coordinates\n.minecraft client.jar client.json launcher_profiles.json options.txt\nDevelopment resources Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format\nLegacy development resources Classic level format Classic server protocol Indev level format Alpha level format server_level.dat", "client.jar client.json launcher_profiles.json options.txt", "Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format", "Classic level format Classic server protocol Indev level format Alpha level format server_level.dat", "Server Minecraft Realms Server list server.properties Server requirements", "Skins Capes Resource packs Data packs"], "bboxes": [[372.046875, 2036.75, 553, 25], [372.046875, 2063.25, 553, 149], [501.046875, 2063.25, 424, 98], [372.046875, 2214.25, 553, 449], [467.046875, 2338.75, 458, 25], [611.046875, 2367.25, 314, 221], [611.046875, 2589.75, 314, 74], [372.046875, 2665.25, 553, 25], [372.046875, 2691.75, 553, 25]]}}, {"bbox": [370.046875, 2061.25, 557, 102], "headers": {"text": ["Version history"], "bboxes": [[372.046875, 2063.25, 127, 98]]}, "cells": {"text": ["Pre-Classic Classic Early Classic Creative Multiplayer Test Survival Test Late Classic Creative Indev Infdev Alpha Beta Full Release Development versions"], "bboxes": [[501.046875, 2063.25, 424, 98]]}}, {"bbox": [370.046875, 2336.75, 557, 28], "headers": {"text": [".minecraft"], "bboxes": [[372.046875, 2338.75, 93, 25]]}, "cells": {"text": ["client.jar client.json launcher_profiles.json options.txt"], "bboxes": [[467.046875, 2338.75, 458, 25]]}}, {"bbox": [370.046875, 2365.25, 557, 300], "headers": {"text": ["Development resources", "Legacy development resources"], "bboxes": [[372.046875, 2367.25, 237, 221], [372.046875, 2589.75, 237, 74]]}, "cells": {"text": ["Anvil file format Chunk format Command storage format Generated structures format Level format Loot tables Map item format Model NBT format Obfuscation map Player format raids.dat format Raw JSON text format Region file format Structure block file format Schematic file format Scoreboard format Server list format sounds.json Subtitles villages.dat format", "Classic level format Classic server protocol Indev level format Alpha level format server_level.dat"], "bboxes": [[611.046875, 2367.25, 314, 221], [611.046875, 2589.75, 314, 74]]}}], "images": [{"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/35/Information_icon.svg", "path": "images/Information icon.png", "alt_text": "Information icon", "caption": null, "bbox": [260.53125, 654.28125, 32, 32]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/2/26/Java.png", "path": "images/Java.png", "alt_text": "Java", "caption": null, "bbox": [476.390625, 2007.75, 20, 27]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/f/fc/Java_Edition_subtitle.png", "path": "images/Java Edition subtitle.png", "alt_text": "Java Edition subtitle", "caption": null, "bbox": [499.390625, 2014.25, 98, 14]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/a/a7/Heart.svg", "path": "images/Heart.png", "alt_text": "Heart", "caption": null, "bbox": [634.40625, 2094.75, 9, 9]}, {"src": "https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/34/Oak_Door_%28item%29_JE1.png", "path": "images/Oak Door (item) JE1.png", "alt_text": "Oak Door (item) JE1", "caption": null, "bbox": [570.40625, 2116.25, 16, 16]}], "sprites": [{"text": null, "bbox": [260.53125, 600.09375, 32, 32]}, {"text": "Pre-Classic", "bbox": [503.046875, 2066.25, 16, 16]}, {"text": "Classic", "bbox": [608.40625, 2066.25, 16, 16]}, {"text": "Early Classic Creative", "bbox": [681.765625, 2066.25, 16, 16]}, {"text": "Multiplayer Test", "bbox": [503.046875, 2090.75, 16, 16]}, {"text": "Late Classic Creative", "bbox": [739.40625, 2090.75, 16, 16]}, {"text": "Indev", "bbox": [503.046875, 2115.25, 16, 16]}, {"text": "Alpha", "bbox": [641.40625, 2115.25, 16, 16]}, {"text": "Beta", "bbox": [709.765625, 2115.25, 16, 16]}, {"text": "Full Release", "bbox": [771.125, 2115.25, 16, 16]}, {"text": "Development versions", "bbox": [503.046875, 2139.75, 16, 16]}, {"text": "Removed features", "bbox": [374.046875, 2166.25, 16, 16]}, {"text": "Unused features", "bbox": [624.40625, 2166.25, 16, 16]}, {"text": "Exclusive features", "bbox": [761.765625, 2166.25, 16, 16]}, {"text": "Mentioned features", "bbox": [374.046875, 2190.75, 16, 16]}], "texts": [{"text": "Java Edition Classic level format", "bbox": [202.046875, 518.5, 593, 45]}, {"text": "The Classic level format was used by all varieties of Minecraft Classic. It was compressed with gzip and contained a short header followed by serialized Java objects. Single-player levels had the extension \".mine\". Levels used by the Classic Creative server were named \"server_level.dat\". The file could be backed up to save content, which helped to protect constructions against griefers or to use the file for map editing.", "bbox": [202.046875, 706.875, 726, 98]}, {"text": "Because the format of this level depended on the way Java serializes objects, the easiest way to work with it was through the Classic server itself, minecraft-server.jar. Sample code was provided to show how to build an editor on top of minecraft-server.jar.", "bbox": [202.046875, 828.875, 726, 74]}, {"text": "File Format", "bbox": [202.046875, 926.375, 726, 22]}, {"text": "When uncompressed, the format of the file was as follows:", "bbox": [202.046875, 960.875, 726, 25]}, {"text": "Accessing the array of bytes", "bbox": [202.046875, 1401.25, 726, 43]}, {"text": "The most interesting part of a level was the block array. Each byte in this array defined a block type at a corresponding location in the world. One generally had two options for accessing the byte array of blocks:", "bbox": [202.046875, 1453.25, 726, 49]}, {"text": "The player could deserialize the compressed .dat file directly back into an instance of a Level object inside of Java, thus having access to the instance of the Level object in exactly the same way the Minecraft Server does. This would allow the player to set the blocks, dimensions, spawn point and other aspects of the map directly by calling the methods on the instantiated Level object. Manual decompression is not needed before loading, because Java can compress and decompress gzipped files on the fly. To load the datafile back into an instance of the Level class, the player would need the class definition for the Level class. This was included with the minecraft-server.jar file. An example of this could be seen in the Development resources/Example Minecraft Classic Level Editing Class.", "bbox": [202.046875, 1526.25, 726, 196]}, {"text": "Others have read and modified the map's data by simply accessing the raw byte array in the datafile file. To do this, the player would decompress it, make changes to the bytes where the byte array is stored, and then compress it again. Since the player was editing it raw, they needed to keep the first 344 (14E in HEX) bytes intact. The next 256x256x64 bytes were where the byte array was stored. Additionally, it was also possible to alter the spawn location coordinates this way if the player knew where to look: there were integer values starting at byte 284 and thus overwriting the next 12 bytes (3 integers in the order x, y, z) would allow the player to change the spawn location.", "bbox": [202.046875, 1746.25, 726, 171]}, {"text": "(Disclaimer: This is liable to change as Java changes)", "bbox": [202.046875, 1941.75, 726, 25]}]}